# bHaptics haptic devices C# plugin

[![Version](https://img.shields.io/nuget/v/Bhaptics.Tac.svg)](https://nuget.org/packages/Bhaptics.Tac)
[![Downloads](https://img.shields.io/nuget/dt/Bhaptics.Tac.svg)](https://nuget.org/packages/Bhaptics.Tac)

## Prerequisite
* bHaptics Player has to be installed (Windows)
   * The app can be found in [bHaptics homepage](http://bhaptics.com/)

## How to install 
1. You can download library (Bhaptics.Tac) with nuget manager [Bhaptics.Tac](https://www.nuget.org/packages/Bhaptics.Tac/)
 
2. You can clone the git repository.
```
$ git clone https://github.com/bhaptics/haptic-library.git
```


## Samples 
* [WPF Example](https://github.com/bhaptics/haptic-library/blob/master/samples/csharp/src/TestApp/MainWindow.xaml.cs)
* [unity-plugin](https://github.com/bhaptics/tactosy-sharp/tree/master/samples/tac-sharp-unity)


## How to use
### Setup
```
using Bhaptics.Tact; // import define name space

...

// Create instance of HapticPlayer
var hapticPlayer = new HapticPlayer((connected) =>
{
    Debug.WriteLine("Connected");
});
hapticPlayer.Register(key, "BowShoot.tact");

Thread.Sleep(100);
hapticPlayer.SubmitRegistered(key);
Thread.Sleep(1000);
hapticPlayer.Dispose();

```

### Play haptic pattern    

* Apply more feedback effects: with .tact file  
>You can create Tact feeback effects via [bhaptics designer](https://designer.bhaptics.com). The .tact files generated by the designer are timeline based haptic feedback effect files.<br/>
You can find more details of the designer [here](http://bhaptics.com/studio.html).

* Play feedback effects in C# Script: List of PathPoints

```
var motorCount = 2; // number of motors for PathPoint
List<PathPoint> pathPoints = new List<PathPoint>
{
    new PathPoint(x_position, y_position, intensity)
    /* x_position, y_position are floats in
        normalized value (0.0f to 1.0f) beginning from upper left of the device.*/
    , new PathPoint(x_position, y_position, intensity, motorCount)
};
HapticPlayer.Submit("Point", PositionType.VestFront, pathPoints, duration);
/* duration is a positive integer in milliseconds */
```
	
	
* Play feedback effects in C# Script: DotPoints

```
HapticPlayer.Submit("space", PositionType.Head, new DotPoint(3, 100), 1000);
```


* Play feedback effects in C# Script: Array of Bytes

```
byte[] bytes =
{
    0, 0, 0, 0, 0,
    0, 0, 0, 0, 0,
    0, 0, 100, 100, 0,
    0, 0, 0, 0, 0
}; 
/* Values should be an int (0~100)
/* Each number is the intensity of the point*/
HapticPlayer.Submit("Bytes", PositionType.VestBack, bytes);
```

* Play registered .tact feedback effects using file names

```
/* Just play feedback of Fireball.tact file */
HapticPlayer.SubmitRegistered("Fireball");

/* play feedback of RifleImpact.tact file with counter-clockwise angle and yOffset */
HapticPlayer.SubmitRegisteredVestRotation("RifleImpact", new RotationOption(180f, .5f));

/* play feedback of RifleImpact.tact file with different key. */
HapticPlayer.SubmitRegisteredVestRotation("RifleImpact", "for_backward" new RotationOption(180f, .5f));
HapticPlayer.SubmitRegisteredVestRotation("RifleImpact", "for_front" new RotationOption(0f, .5f));
```

* Check if Device is connected

```
HapticPlayer.IsActive(PositionType.ForearmL)
```


* TurnOff Signal

```
/* Turn off all current Haptic feedback effects */
HapticPlayer.TurnOff();
/* Turn off the specified Haptic feedback effect using its Key string */
HapticPlayer.TurnOff("Fireball");
```

* Check whether some feedback is playing or not

```
/* Return the bool whether 'Fireball' is playing */
bool isFireballFeedbackPlaying = HapticPlayer.IsPlaying("Fireball");
/* Return the bool whether any feedback is playing */
bool isAnyFeedbackPlaying = HapticPlayer.IsPlaying();
```


## Contact
* Official Website: http://www.bhaptics.com/
* E-mail: developer@bhaptics.com
* Issues : https://github.com/bhaptics/tac-sharp/issues/new

Last update of README.md: Jul 4th, 2019.

###### Copyright (c) 2019 bHaptics Inc. All rights reserved.
